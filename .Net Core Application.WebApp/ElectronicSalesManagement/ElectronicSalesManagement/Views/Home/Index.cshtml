@model ModelView
@{
    ViewData["Title"] = "Home";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<section class="htc__product__area bg__white">
    <div class="container">
        <div class="col-md-12 mt--30">
            <div class="product-style-tab">
                <div class="product-tab-list">
                    <!-- Nav tabs -->
                    <ul class="tab-style" role="tablist">
                        <li class="active">
                            <a href="#home1" data-toggle="tab">
                                <div class="tab-menu-text">
                                    <h4>latest </h4>
                                </div>
                            </a>
                        </li>
                        <li>
                            <a href="#home2" data-toggle="tab">
                                <div class="tab-menu-text">
                                    <h4>best sale </h4>
                                </div>
                            </a>
                        </li>
                        <li>
                            <a href="#home3" data-toggle="tab">
                                <div class="tab-menu-text">
                                    <h4>top rated</h4>
                                </div>
                            </a>
                        </li>
                        <li>
                            <a href="#home4" data-toggle="tab">
                                <div class="tab-menu-text">
                                    <h4>on sale</h4>
                                </div>
                            </a>
                        </li>
                    </ul>
                </div>
                <div class="tab-content another-product-style jump">
                    <div class="tab-pane active" id="home1">
                        <div class="row">
                            <div class="product-slider-active owl-carousel">
                                @{
                                    foreach (Product item in Model.Products.OrderByDescending(p => int.Parse(p.Price)))
                                    {
                                        if (item.ID_Sale != 0)
                                        {
                                            int percent = int.Parse(Model.Sales.Where(p => int.Parse(p.ID_SaleParent) == item.ID_Sale).FirstOrDefault().Percent_sale);
                                            <div class="col-md-4 single__pro col-lg-4 cat--1 col-sm-4 col-xs-12">
                                                <div class="product">
                                                    <div class="product__inner">
                                                        <div class="pro__thumb">
                                                            <a asp-controller="Product" asp-action="Detail" asp-route-id="@item.ID_Product">
                                                                <img src="~/images/Image_ElectronicSale/products/@item.ImagePath" alt="product images">
                                                            </a>
                                                        </div>
                                                    </div>
                                                    <div class="product__details">
                                                        <h2><a asp-controller="Product" asp-action="Detail" asp-route-id="@item.ID_Product">@item.Name</a></h2>
                                                        <ul class="product__price">
                                                            <li class="old__price">@int.Parse(item.Price).ToString("#,##0").Replace(",", ".")</li>
                                                            <li class="new__price">@(((int.Parse(item.Price)-(int.Parse(item.Price)*percent)/100)).ToString("#,##0").Replace(",", "."))</li>
                                                        </ul>
                                                    </div>
                                                </div>
                                            </div>
                                        }
                                    }
                                }
                            </div>
                        </div>
                    </div>
                    <div class="tab-pane" id="home2">
                        <div class="row">
                            <div class="product-slider-active owl-carousel">
                                @{
                                    foreach (Product item in Model.Products.OrderBy(p => int.Parse(p.Price)))
                                    {
                                        if (item.ID_Sale != 0)
                                        {
                                            int percent = int.Parse(Model.Sales.Where(p => int.Parse(p.ID_SaleParent) == item.ID_Sale).FirstOrDefault().Percent_sale);
                                            <div class="col-md-4 single__pro col-lg-4 cat--1 col-sm-4 col-xs-12">
                                                <div class="product">
                                                    <div class="product__inner">
                                                        <div class="pro__thumb">
                                                            <a asp-controller="Product" asp-action="Detail" asp-route-id="@item.ID_Product">
                                                                <img src="~/images/Image_ElectronicSale/products/@item.ImagePath" alt="product images">
                                                            </a>
                                                        </div>
                                                    </div>
                                                    <div class="product__details">
                                                        <h2><a asp-controller="Product" asp-action="Detail" asp-route-id="@item.ID_Product">@item.Name</a></h2>
                                                        <ul class="product__price">
                                                            <li class="old__price">@int.Parse(item.Price).ToString("#,##0").Replace(",", ".")</li>
                                                            <li class="new__price">@(((int.Parse(item.Price)-(int.Parse(item.Price)*percent)/100)).ToString("#,##0").Replace(",", "."))</li>
                                                        </ul>
                                                    </div>
                                                </div>
                                            </div>
                                        }
                                    }
                                }
                            </div>
                        </div>
                    </div>
                    <div class="tab-pane" id="home3">
                        <div class="row">
                            <div class="product-slider-active owl-carousel">
                                @{
                                    foreach (Product item in Model.Products.OrderByDescending(p => int.Parse(p.Price)))
                                    {
                                        if (item.ID_Sale != 0)
                                        {
                                            int percent = int.Parse(Model.Sales.Where(p => int.Parse(p.ID_SaleParent) == item.ID_Sale).FirstOrDefault().Percent_sale);
                                            <div class="col-md-4 single__pro col-lg-4 cat--1 col-sm-4 col-xs-12">
                                                <div class="product">
                                                    <div class="product__inner">
                                                        <div class="pro__thumb">
                                                            <a asp-controller="Product" asp-action="Detail" asp-route-id="@item.ID_Product">
                                                                <img src="~/images/Image_ElectronicSale/products/@item.ImagePath" alt="product images">
                                                            </a>
                                                        </div>
                                                    </div>
                                                    <div class="product__details">
                                                        <h2><a asp-controller="Product" asp-action="Detail" asp-route-id="@item.ID_Product">@item.Name</a></h2>
                                                        <ul class="product__price">
                                                            <li class="old__price">@int.Parse(item.Price).ToString("#,##0").Replace(",", ".")</li>
                                                            <li class="new__price">@(((int.Parse(item.Price)-(int.Parse(item.Price)*percent)/100)).ToString("#,##0").Replace(",", "."))</li>
                                                        </ul>
                                                    </div>
                                                </div>
                                            </div>
                                        }
                                    }
                                }
                            </div>
                        </div>
                    </div>
                    <div class="tab-pane" id="home4">
                        <div class="row">
                            <div class="product-slider-active owl-carousel">
                                @{
                                    foreach (Product item in Model.Products.OrderBy(p => int.Parse(p.Price)))
                                    {
                                        if (item.ID_Sale != 0)
                                        {
                                            int percent = int.Parse(Model.Sales.Where(p => int.Parse(p.ID_SaleParent) == item.ID_Sale).FirstOrDefault().Percent_sale);
                                            <div class="col-md-4 single__pro col-lg-4 cat--1 col-sm-4 col-xs-12">
                                                <div class="product">
                                                    <div class="product__inner">
                                                        <div class="pro__thumb">
                                                            <a asp-controller="Product" asp-action="Detail" asp-route-id="@item.ID_Product">
                                                                <img src="~/images/Image_ElectronicSale/products/@item.ImagePath" alt="product images">
                                                            </a>
                                                        </div>
                                                    </div>
                                                    <div class="product__details">
                                                        <h2><a asp-controller="Product" asp-action="Detail" asp-route-id="@item.ID_Product">@item.Name</a></h2>
                                                        <ul class="product__price">
                                                            <li class="old__price">@int.Parse(item.Price).ToString("#,##0").Replace(",", ".")</li>
                                                            <li class="new__price">@(((int.Parse(item.Price)-(int.Parse(item.Price)*percent)/100)).ToString("#,##0").Replace(",", "."))</li>
                                                        </ul>
                                                    </div>
                                                </div>
                                            </div>
                                        }
                                    }
                                }
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="htc__product__area ptb--100 bg__white">
    <div class="container">
        <h2 class="title__line text-center">Top Products</h2>
        <p class="text-center mt--20" style="color:#666666;">Products topped purchases.</p>
        <div class="row">
            @{
                var count = 1;
                var id = 0;
                foreach (Product item in Model.Products)
                {
                    if (count < 5)
                    {
                        count++;
                        id = item.ID_Product;
                        <div class="col-md-3 single__pro col-lg-3 cat--1 col-sm-4 col-xs-12">
                            <div class="product">
                                <div class="product__inner">
                                    <div class="pro__thumb">
                                        <a asp-controller="Product" asp-action="Detail" asp-route-id="@item.ID_Product">
                                            <img src="~/images/Image_ElectronicSale/products/@item.ImagePath" alt="product images">
                                        </a>
                                    </div>
                                </div>
                                <div class="product__details">
                                    <h2 style="text-align:center"><a asp-controller="Product" asp-action="Detail" asp-route-id="@item.ID_Product">@item.Name</a></h2>
                                    <div style="text-align:center;margin-top:10px;">
                                        @{
                                            if (item.ID_Sale == 0)
                                            {
                                                <h4 style="font-size:18px;color:red;"><a href="#">@int.Parse(item.Price).ToString("#,##0").Replace(",", ".")</a></h4>
                                            }
                                            else
                                            {
                                                int percent = int.Parse(Model.Sales.Where(p => int.Parse(p.ID_SaleParent) == item.ID_Sale).FirstOrDefault().Percent_sale);
                                                <h3 style="display:inline-block;color:#9c9b9b;font-size:14px;margin-right:3px;">
                                                    <strike>@int.Parse(item.Price).ToString("#,##0").Replace(",", ".")</strike>
                                                </h3>
                                                <h4 style="display:inline-block;font-size:18px;color:red;">@(((int.Parse(item.Price)-(int.Parse(item.Price)*percent)/100)).ToString("#,##0").Replace(",", "."))</h4>
                                            }
                                        }
                                    </div>
                                </div>
                            </div>
                        </div>
                    }
                }
            }
        </div>
        <div class="row">
            @{
                count = 1;
                foreach (Product item in Model.Products)
                {
                    if (item.ID_Product > id && count < 5)
                    {
                        count++;
                        <div class="col-md-3 single__pro col-lg-3 cat--1 col-sm-4 col-xs-12">
                            <div class="product">
                                <div class="product__inner">
                                    <div class="pro__thumb">
                                        <a asp-controller="Product" asp-action="Detail" asp-route-id="@item.ID_Product">
                                            <img src="~/images/Image_ElectronicSale/products/@item.ImagePath" alt="product images">
                                        </a>
                                    </div>
                                </div>
                                <div class="product__details">
                                    <h2 style="text-align:center"><a asp-controller="Product" asp-action="Detail" asp-route-id="@item.ID_Product">@item.Name</a></h2>
                                    <div style="text-align:center;margin-top:10px;">
                                        @{
                                            if (item.ID_Sale == 0)
                                            {
                                                <h4 style="font-size:18px;color:red;"><a href="#">@int.Parse(item.Price).ToString("#,##0").Replace(",", ".")</a></h4>
                                            }
                                            else
                                            {
                                                int percent = int.Parse(Model.Sales.Where(p => int.Parse(p.ID_SaleParent) == item.ID_Sale).FirstOrDefault().Percent_sale);
                                                <h3 style="display:inline-block;color:#9c9b9b;font-size:14px;margin-right:3px;">
                                                    <strike>@int.Parse(item.Price).ToString("#,##0").Replace(",", ".")</strike>
                                                </h3>
                                                <h4 style="display:inline-block;font-size:18px;color:red;">@(((int.Parse(item.Price)-(int.Parse(item.Price)*percent)/100)).ToString("#,##0").Replace(",", "."))</h4>
                                            }
                                        }
                                    </div>
                                </div>
                            </div>
                        </div>
                    }
                }
            }
        </div>
    </div>
</section>

<!-- Start Blog Area Latest News-->
<section class="htc__blog__area bg__white pb--130">
    <div class="container">
        <div class="row">
            <div class="col-xs-12">
                <div class="section__title section__title--2 text-center">
                    <h2 class="title__line">Latest News</h2>
                    <p>Discover news about the electronic world around us.</p>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="blog__wrap clearfix mt--60 xmt-30">
                <div class="col-md-4 col-lg-4 col-sm-6 col-xs-12">
                    <div class="blog foo">
                        <div class="blog__inner">
                            <div class="blog__thumb">
                                <a href="#">
                                    <img src="~/images/Image_ElectronicSale/new_1.png" alt="blog images">
                                </a>
                            </div>
                            <div>
                                <p style="color:black;font-size:20px;font-family:'Segoe UI';margin-top:5px;">XPS 13 9310 - Dell's new '2-in-1' line of laptops.</p>
                                <ul class="bl__meta">
                                    <li>By : Admin</li>
                                    <li>Product</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-4 col-lg-4 col-sm-6 col-xs-12">
                    <div class="blog foo">
                        <div class="blog__inner">
                            <div class="blog__thumb">
                                <a href="#">
                                    <img src="~/images/Image_ElectronicSale/new_2.jpg" alt="blog images">
                                </a>
                            </div>
                            <div>
                                <p style="color:black;font-size:20px;font-family:'Segoe UI';margin-top:5px;">5 Lenovo laptop models compact, highly configurable.</p>
                                <ul class="bl__meta">
                                    <li>By : Admin</li>
                                    <li>Product</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-4 col-lg-4 col-sm-6 col-xs-12">
                    <div class="blog foo">
                        <div class="blog__inner">
                            <div class="blog__thumb">
                                <a href="#">
                                    <img src="~/images/Image_ElectronicSale/new_3.png" alt="blog images">
                                </a>
                            </div>
                            <div>
                                <p style="color:black;font-size:20px;font-family:'Segoe UI';margin-top:5px;">The series of laptops equipped with AMD CPUs is aimed at young users.</p>
                                <ul class="bl__meta">
                                    <li>By : Admin</li>
                                    <li>Product</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
